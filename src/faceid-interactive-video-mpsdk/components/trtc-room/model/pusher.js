import{DEFAULT_PUSHER_CONFIG}from"../common/constants.js";class Pusher{constructor(s){Object.assign(this,DEFAULT_PUSHER_CONFIG,{isVisible:!0},s)}getPusherContext(s){return this.pusherContext||(this.pusherContext=wx.createLivePusherContext(s)),this.pusherContext}reset(){console.log("Pusher reset",this.pusherContext),this.pusherContext&&(this.pusherContext.stop({success:()=>{console.log("Pusher pusherContext.stop()"),Object.assign(this,DEFAULT_PUSHER_CONFIG,{isVisible:!0})}}),this.pusherContext=null)}}export default Pusher;